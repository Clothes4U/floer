!function(){"use strict";"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o();let e=null,t=null,n=null;function l(e){return e.replace(/\s*（[^）]*）([A-Za-z])/g," $1").replace(/\s*（[^）]*）\s*/g,"").replace(/\s*\([^)]*\)([A-Za-z])/g," $1").replace(/\s*\([^)]*\)\s*/g,"")}function c(e,t){let n=e.parentElement;for(;n&&n!==t;){if("DETAILS"===n.tagName)return!1;n=n.parentElement}return!0}function o(){const n=document.getElementById("sidebar-nav-content");if(!n)return;const o=document.getElementById("page_content");if(!o)return;const s=o.querySelectorAll("details");if(0===s.length)return;const d=[];for(let e=0;e<s.length;e++){const t=s[e];c(t,o)&&d.push(t)}if(0===d.length)return;const u=document.createElement("ul"),m=document.createDocumentFragment();d.forEach((e,t)=>{const n=e.querySelector("summary");if(!n)return;e.id||(e.id=`section-${t}`);const c=n.querySelector("strong");let o=c?c.textContent.trim():n.textContent.trim();o=l(o);const i=document.createElement("li");i.className="nav-top-level-item";const s=Array.from(e.children).filter(e=>"DETAILS"===e.tagName);if(s.length>0){const n=document.createElement("details");n.className="nav-collapsible",n.setAttribute("open","");const c=document.createElement("summary");c.className="nav-summary";const d=document.createElement("a");d.href=`#${e.id}`,d.textContent=o,d.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),a(e.id),r(this)}),c.appendChild(d),n.appendChild(c);const u=document.createElement("ul");u.className="nav-sub-list",s.forEach((e,n)=>{const c=e.querySelector("summary");if(!c)return;e.id||(e.id=`section-${t}-${n}`);const o=c.querySelector("strong");let i=o?o.textContent.trim():c.textContent.trim();i=l(i);const s=document.createElement("li"),d=document.createElement("a");d.href=`#${e.id}`,d.textContent=i,d.addEventListener("click",function(t){t.preventDefault(),a(e.id),r(this)}),s.appendChild(d),u.appendChild(s)}),n.appendChild(u),i.appendChild(n)}else{const t=document.createElement("a");t.href=`#${e.id}`,t.textContent=o,t.addEventListener("click",function(t){t.preventDefault(),a(e.id),r(this)}),i.appendChild(t)}m.appendChild(i)}),u.appendChild(m),n.appendChild(u),e=o.querySelectorAll("details[id]"),(t=u.querySelectorAll("a")).length>0&&t[0].classList.add("active"),window.addEventListener("scroll",i,{passive:!0})}function i(){n||(n=requestAnimationFrame(function(){!function(){if(!e||!t||0===e.length||0===t.length)return;const n=window.pageYOffset+100;let l=null,c=null;for(let t=e.length-1;t>=0;t--){const o=e[t],i=o.getBoundingClientRect(),a=i.top+window.pageYOffset;if(n>=a){l=o,c=o.id;break}}!l&&e.length>0&&(l=e[0],c=l.id);if(c){let e=null;const n=`#${c}`;for(let l=0;l<t.length;l++){const c=t[l];if(c.getAttribute("href")===n){c.classList.contains("active")||(e=c);break}}if(e){for(let e=0;e<t.length;e++)t[e].classList.remove("active");e.classList.add("active")}}}(),n=null}))}function a(e){const t=document.getElementById(e);if(!t)return;const n=t.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:n,behavior:"smooth"})}function r(e){document.querySelectorAll("#sidebar-nav-content a").forEach(e=>e.classList.remove("active")),e.classList.add("active")}}();